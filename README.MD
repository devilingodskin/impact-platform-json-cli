# Visual Change Impact Platform - CLI

–õ–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
node impact-cli.js <—Ñ–∞–π–ª-A> <—Ñ–∞–π–ª-B> [–æ–ø—Ü–∏–∏]
```

#### –ü—Ä–∏–º–µ—Ä—ã

**–ü—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
```bash
node impact-cli.js config-old.json config-new.json
```

**–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –≤ JSON:**
```bash
node impact-cli.js config-v1.yaml config-v2.yaml --output=report.json
```

**–í—ã–≤–æ–¥ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:**
```bash
node impact-cli.js old.json new.json --format=json > report.json
```

**–ü–æ–º–æ—â—å:**
```bash
node impact-cli.js --help
```

## üìã –û–ø—Ü–∏–∏

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-------|----------|--------|
| `--format=<—Ç–∏–ø>` | –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: `console` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ `json` | `--format=json` |
| `--output=<–ø—É—Ç—å>` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –≤ —Ñ–∞–π–ª | `--output=report.json` |
| `-o <–ø—É—Ç—å>` | –ö–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è `--output` | `-o report.json` |
| `--help`, `-h` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É | `--help` |

## üìÅ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

- ‚úÖ **JSON** (`.json`)
- ‚úÖ **YAML** (`.yaml`, `.yml`)

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- –ü–æ–∏—Å–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 2. –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ä–∏—Å–∫–∞:
- **‚ö† –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö, API –∫–ª—é—á–∞—Ö, —Ñ–ª–∞–≥–∞—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- **‚óÜ –í—ã—Å–æ–∫–∏–π** ‚Äî —Ç–∞–π–º–∞—É—Ç—ã, –ª–∏–º–∏—Ç—ã, —Ö–æ—Å—Ç—ã, –ø–æ—Ä—Ç—ã, endpoints
- **‚óè –°—Ä–µ–¥–Ω–∏–π** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏—è, —Ç–∏–ø—ã, –≤–µ—Ä—Å–∏–∏, —Ñ–æ—Ä–º–∞—Ç—ã
- **‚óã –ù–∏–∑–∫–∏–π** ‚Äî –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
–î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–∏–º –¥–µ–π—Å—Ç–≤–∏—è–º.

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–≤–æ–¥–∞

### Console —Ñ–æ—Ä–º–∞—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```
‚îÅ‚îÅ‚îÅ –û–ë–ù–ê–†–£–ñ–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø ‚îÅ‚îÅ‚îÅ

‚úö –î–æ–±–∞–≤–ª–µ–Ω–æ: 2
  config.newFeature
    ‚Üí true
  api.timeout
    ‚Üí 5000

‚ü≥ –ò–∑–º–µ–Ω–µ–Ω–æ: 1
  database.host
    localhost ‚Üí prod.example.com

‚îÅ‚îÅ‚îÅ –ê–ù–ê–õ–ò–ó –í–õ–ò–Ø–ù–ò–Ø ‚îÅ‚îÅ‚îÅ

‚óÜ –í—ã—Å–æ–∫–∏–π: 1

  –ò–∑–º–µ–Ω–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: database.host
  –ü—É—Ç—å: database.host
  –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–æ —Å "localhost" –Ω–∞ "prod.example.com"
–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö YAML —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON:
  """Visual Change Impact Platform - CLI"""

  –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö.

  –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–∞–∫ `impact`.

  ## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

  –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ GitHub –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

  ```bash
  npm install -g git+https://github.com/<your-user>/<your-repo>.git
  ```

  –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):

  ```bash
  git clone https://github.com/<your-user>/<your-repo>.git
  cd <your-repo>
  npm install -g .
  ```

  –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `install.sh` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ symlink:

  ```bash
  bash install.sh
  ```

  –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ, –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ node:

  ```bash
  node Functions/cli/impact-cli.js <—Ñ–∞–π–ª-A> <—Ñ–∞–π–ª-B> [–æ–ø—Ü–∏–∏]
  ```

  ## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

  ```bash
  impact config-old.json config-new.json
  impact old.yaml new.yaml --output=report.json
  impact a.json b.json --format=json > report.json
  impact --help
  ```

  ## –û–ø—Ü–∏–∏

  * `--format=<—Ç–∏–ø>` ‚Äî –≤—ã–≤–æ–¥: `console` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ `json`.
  * `--output=<–ø—É—Ç—å>` / `-o <–ø—É—Ç—å>` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –≤ —Ñ–∞–π–ª.
  * `--help`, `-h` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É.

  ## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

  - JSON (`.json`) –∏ YAML (`.yaml`, `.yml`).

  ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ CI/CD

  –ü—Ä–∏–º–µ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –¥–ª—è GitHub Actions:

  ```yaml
  - name: Analyze config
    run: |
      node Functions/cli/impact-cli.js config-old.json config.json --output=report.json

  - name: Upload report
    uses: actions/upload-artifact@v2
    with:
      name: impact-report
      path: report.json
  ```

  ## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

  - `impact: command not found` ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ npm –≤ PATH (`npm bin -g`).
  - `Permission denied` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ symlink ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç–µ `install.sh` —Å `sudo`.
  - –û—à–∏–±–∫–∞ `–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏.
  - –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ JSON/YAML.

  ## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

  - –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∫–æ–¥ –∏–∑ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –î–æ–±–∞–≤—å—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

  ---

  –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —è –º–æ–≥—É –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–æ–º–æ—á—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –≤ GitHub.
